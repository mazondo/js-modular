!function(){var n=this,e=n.Modular={}
e.Services={query:n.jQuery||n.$},e.Sandbox=function(n,r,t){t=t||{},e.Services.query(t.container).append("<div id='"+i+"'></div>")
var i=n+"-"+r+"-container",u=e.Services.query("#"+i)
return{$:function(n){return u.find(n)},subscribe:function(r,t){e.Events.subscribe(n+":"+r,t)},unsubscribe:function(r){e.Events.unsubscribe(n+":"+r)},broadcast:function(r,t){e.Events.broadcast(n+":"+r,t)},getOption:function(n){return t[n]?t[n]:void 0},ajax:function(n){e.Services.query.ajax(n)}}},e.App=function(n){var r={},t=0
return{register:function(e,i,u){if(i){t+=1,u=u||{},u.container=u.container||n||"body"
var c="module-"+t
return r[c]={label:e,options:u||null,creator:i,instance:null},c}return null},start:function(n){if(r[n]){var t=r[n],i=new e.Sandbox(n,t.label,t.options)
return t.instance=new t.creator(i),t.instance.create(),!0}return null},stop:function(n){return r[n]&&r[n].instance?(r[n].instance.destroy(),r[n].instance=null,!0):null}}},e.Events=function(){var n={}
return{subscribe:function(r,t){e.Services.query(n).bind(r,t)},unsubscribe:function(r,t){e.Services.query(n).unbind(r,t)},broadcast:function(r,t){e.Services.query(n).trigger(r,t)}}}()}()